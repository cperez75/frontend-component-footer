"use strict";var e,r,o=require("postcss"),n=require("rtlcss"),t=function(){return t=Object.assign||function(e){for(var r,o=1,n=arguments.length;o<n;o++)for(var t in r=arguments[o])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},t.apply(this,arguments)};function i(e,r,o){if(o||2===arguments.length)for(var n,t=0,i=r.length;t<i;t++)!n&&t in r||(n||(n=Array.prototype.slice.call(r,0,t)),n[t]=r[t]);return e.concat(n||Array.prototype.slice.call(r))}"function"==typeof SuppressedError&&SuppressedError,function(e){e.combined="combined",e.override="override",e.diff="diff"}(e||(e={})),function(e){e.ltr="ltr",e.rtl="rtl"}(r||(r={}));var d,a,s=/rtl:/,l=/rtl:ignore/,c=/^\/\*!? *rtl:?(begin|end)?:(\w+):?([^*]*?) *\*\/$/,u=/(right|left)/i,f=/^(html)(?=\W|$)/,p=/(:root)(?=\W|$)/,b=/[.?*+^$[\]\\(){}|-]/g,m=/\w$/;!function(e){e.IGNORE="ignore",e.URLS="urls",e.RULES="rules",e.SOURCE="source",e.RAW="raw"}(d||(d={})),function(e){e.BEGIN="begin",e.END="end"}(a||(a={}));var v=new RegExp("$-^"),g=[{name:"left-right",search:["left","Left","LEFT"],replace:["right","Right","RIGHT"]},{name:"ltr-rtl",search:["ltr","Ltr","LTR"],replace:["rtl","Rtl","RTL"]}],h=function(e){if(e.name)return e.name;var r=Array.isArray(e.search)?e.search[0]:e.search,o=Array.isArray(e.replace)?e.replace[0]:e.replace,n=/[^\w]/g,t=r.replace(n,"-"),i=o.replace(n,"_");return"".concat(t,"-").concat(i)},y=function(e){return e.map((function(e){return{name:h(e),priority:100,search:e.search,replace:e.replace,options:{scope:"url",ignoreCase:!1}}}))},R=Object.keys(e).map((function(r){return e[r]})),k=Object.keys(r).map((function(e){return r[e]})),x=function(e){return"string"!=typeof e&&!Array.isArray(e)||!!Array.isArray(e)&&e.some((function(e){return"string"!=typeof e}))},E=function(e,r){return"string"==typeof r?i(i([],e,!0),[r],!1):i(i([],e,!0),r,!0)},w=function(){return{mode:e.combined,ltrPrefix:'[dir="ltr"]',rtlPrefix:'[dir="rtl"]',bothPrefix:"[dir]",prefixSelectorTransformer:null,safeBothPrefix:!1,ignorePrefixedRules:!0,source:r.ltr,processUrls:!1,processRuleNames:!1,processKeyFrames:!1,processEnv:!0,useCalc:!1,stringMap:y(g),greedy:!1,aliases:{}}},P={options:t({},w()),keyframes:[],keyframesToRemove:[],keyframesStringMap:{},keyframesRegExp:v,rules:[],rulesToRemove:[],rulesPrefixRegExp:v,unmodifiedRules:[]},O=function(e){var r,o=t({},w());(e.mode&&R.includes(e.mode)&&(o.mode=e.mode),e.source&&k.includes(e.source)&&(o.source=e.source),"boolean"==typeof e.ignorePrefixedRules&&(o.ignorePrefixedRules=e.ignorePrefixedRules),"boolean"==typeof e.greedy&&(o.greedy=e.greedy),x(e.ltrPrefix)||(o.ltrPrefix=e.ltrPrefix),x(e.rtlPrefix)||(o.rtlPrefix=e.rtlPrefix),x(e.bothPrefix)||(o.bothPrefix=e.bothPrefix),"function"==typeof e.prefixSelectorTransformer&&(o.prefixSelectorTransformer=e.prefixSelectorTransformer),"boolean"==typeof e.safeBothPrefix&&(o.safeBothPrefix=e.safeBothPrefix),"boolean"==typeof e.processUrls&&(o.processUrls=e.processUrls),"boolean"==typeof e.processRuleNames&&(o.processRuleNames=e.processRuleNames),"boolean"==typeof e.processKeyFrames&&(o.processKeyFrames=e.processKeyFrames),"boolean"==typeof e.processEnv&&(o.processEnv=e.processEnv),"boolean"==typeof e.useCalc&&(o.useCalc=e.useCalc),function(e){return!Array.isArray(e)||e.some((function(e){return typeof e.search!=typeof e.replace||x(e.search)||x(e.replace)||Array.isArray(e.search)&&Array.isArray(e.replace)&&e.search.length!==e.replace.length}))}(e.stringMap))||y(e.stringMap).forEach((function(e){e.name===g[0].name?o.stringMap.splice(0,1,e):e.name===g[1].name?o.stringMap.splice(1,1,e):o.stringMap.push(e)}));return e.aliases&&(r=e.aliases,!Object.entries(r).some((function(e){return"string"!=typeof e[1]})))&&(o.aliases=e.aliases),o},A=function(e){P.options=O(e),P.keyframes=[],P.keyframesToRemove=[],P.keyframesStringMap={},P.keyframesRegExp=v,P.rules=[],P.rulesToRemove=[],P.rulesPrefixRegExp=function(e){var r=e.ltrPrefix,o=e.rtlPrefix,n=e.bothPrefix;if(!e.ignorePrefixedRules)return v;var t=[];return t=E(t,r),t=E(t,o),t=(t=E(t,n)).map((function(e){var r=e.replace(b,"\\$&");return m.test(e)?"".concat(r,"(?:\\W|$)"):r})),new RegExp("(".concat(t.join("|"),")"))}(P.options),P.unmodifiedRules=[]},S=function(){var e,r;P.keyframesStringMap=(e=P.keyframes,r={},e.forEach((function(e){r[e.atRuleParams]={name:e.atRule.params,nameFlipped:e.atRuleFlipped.params}})),r),P.keyframesRegExp=function(e){return new RegExp("(^|[^\\w-]| )(".concat(Object.keys(e).join("|"),")( |[^\\w-]|$)"),"g")}(P.keyframesStringMap)},T=Object.values(d),N=Object.values(a),j=function(e){var r=e.toString().match(c);if(r&&function(e){return T.includes("".concat(e[2]))&&(void 0===e[1]||N.includes("".concat(e[1])))}(r)){var o={directive:r[2]};return r[1]&&(o.block=r[1]),r[3]&&(o.option=r[3]),o}return null},M=function(e,r){return e.directive===d.IGNORE&&!e.block&&r[d.IGNORE]&&r[d.IGNORE].block===a.BEGIN},L=function(e,r){var o=e[r];if(o){var n=o.block;if(n!==a.BEGIN&&delete e[r],n!==a.END)return!0}return!1},U=function(e,r){var o=e[d.SOURCE],n=L(e,d.SOURCE);return o&&n?o.option:r||void 0},I=function(e,r,o,n){e.each((function(e){if("comment"===e.type||r.includes(e.type))if("comment"===e.type){var t=e,i=j(t);i&&o(t,i)}else n(e)}))},C=/^-\w+-/,F=function(e){return e.replace(C,"")},G=function(e,r){if(P.options.prefixSelectorTransformer){var o=P.options.prefixSelectorTransformer(e,r);if(o&&"string"==typeof o)return o}return f.test(r)?r.replace(f,"$1".concat(e)):p.test(r)?r.replace(p,"".concat(e,"$1")):"".concat(e," ").concat(r)},B=function(e,r){e.selectors="string"==typeof r?e.selectors.map((function(e){return P.rulesPrefixRegExp.test(e)?e:G(r,e)})):e.selectors.reduce((function(e,o){return e=P.rulesPrefixRegExp.test(o)?i(i([],e,!0),[o],!1):e.concat(r.map((function(e){return G(e,o)})))}),[])},$=function(e){return!!e.nodes&&e.some((function(e){return"decl"===e.type||"rule"===e.type&&$(e)||"atrule"===e.type&&$(e)}))},W=function(e,r,o){if(function(e){return e.some((function(e){return"decl"===e.type}))}(r)){var n;for(o=i([],o,!0);o.length;){n=o.shift();var t=e.nodes.find((function(e){if("rule"===e.type&&e.selector===n.selector)return!0}));t?n=t:(n=n.clone().removeAll(),e.append(n)),e=n}e.append(r)}},K=function(o,n,t,i,d){var a={rule:o,ruleLTR:n,ruleRTL:t,ruleBoth:i,ruleSafe:d};return P.options.mode!==e.diff&&function(o,n,t,i){var d=P.options,a=d.mode,s=d.ltrPrefix,l=d.rtlPrefix,c=d.bothPrefix,u=d.source;a===e.combined?(B(o,u===r.ltr?s:l),B(n,u===r.rtl?s:l)):(B(o,u===r.ltr?l:s),B(n,u===r.rtl?l:s)),B(t,c),B(i,c)}(n,t,i,d),P.rules.push(a),a},q=function(e,r,o,n,t){var i=function(e){for(var r=[];"rule"===e.type;)r.push(e),e=e.parent;return r.shift(),r.reverse()}(e),d=i.shift(),a=P.rules.find((function(e){return e.rule===d}));if(!a){var s=d.clone().removeAll(),l=s.clone(),c=s.clone(),u=s.clone();a=K(d,s,l,c,u)}!function(e,r,o,n,t,i){W(t.ruleLTR,e,i),W(t.ruleRTL,r,i),W(t.ruleBoth,o,i),W(t.ruleSafe,n,i)}(r,o,n,t,a,i)},D=function(e,r){void 0===r&&(r="\n\n"),!e||"rule"!==e.type&&"atrule"!==e.type||(e.raws.before="".concat(r).concat(e.raws.before?e.raws.before.replace(/\n/g,""):""))},z=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.forEach((function(e){var r=e.prev();r&&"comment"!==r.type&&D(e),e.walk((function(e){if("decl"===e.type){var r=e;r.raws&&r.raws.value&&s.test(r.raws.value.raw)&&(delete r.raws.value,r.value=r.value.trim())}}))}))},H=function(e){$(e)?e.walkRules((function(e){H(e),$(e)||e.remove()})):e.remove()},_={animation:{overridden:null,overrides:["animation-direction","animation-duration","animation-delay","animation-name","animation-fill-mode","animation-iteration-count","animation-play-state","animation-timing-function"]},background:{overridden:null,overrides:["background-attachment","background-clip","background-color","background-image","background-repeat","background-size"]},"background-position":{overridden:"background",overrides:["background-position-x","background-position-y"]},border:{overridden:null,overrides:[]},"border-bottom":{overridden:"border",overrides:["border-bottom-color","border-bottom-style","border-bottom-width"]},"border-left":{overridden:"border",overrides:["border-left-color","border-left-style","border-left-width"]},"border-right":{overridden:"border",overrides:["border-right-color","border-right-style","border-right-width"]},"border-top":{overridden:"border",overrides:["border-top-color","border-top-style","border-top-width"]},"border-color":{overridden:"border",overrides:["border-bottom-color","border-left-color","border-right-color","border-top-color"]},"border-style":{overridden:"border",overrides:["border-bottom-style","border-left-style","border-right-style","border-top-style"]},"border-width":{overridden:"border",overrides:["border-bottom-width","border-left-width","border-right-width","border-top-width"]},"border-radius":{overridden:null,overrides:["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius"]},margin:{overridden:null,overrides:["margin-bottom","margin-left","margin-top","margin-right"]},padding:{overridden:null,overrides:["padding-bottom","padding-left","padding-top","padding-right"]},transition:{overridden:null,overrides:["transition-delay","transition-duration","transition-property","transition-timing-function"]}},J={"border-left":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-right":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-left-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-right-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-left-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-right-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-left-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-right-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-radius":{overridden:null,overrides:["border-start-start-radius","border-start-end-radius","border-end-start-radius","border-end-end-radius"]},"border-bottom-left-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-bottom-right-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-top-left-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},"border-top-right-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},left:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},right:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},margin:{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start","margin-block","margin-block-end","margin-block-start"]},"margin-left":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},"margin-right":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},padding:{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start","padding-block","padding-block-end","padding-block-start"]},"padding-left":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]},"padding-right":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]}},Q=["box-shadow","clear","cursor","direction","float","left","right","text-align","text-align-last","text-shadow","transform","transform-origin"],V={0:["border-bottom-right-radius","border-bottom-left-radius","border-end-end-radius","border-end-start-radius","border-start-end-radius","border-start-start-radius","border-top-left-radius","border-top-right-radius","margin-block-end","margin-block-start","margin-top","margin-right","margin-bottom","margin-left","margin-inline-end","margin-inline-start","padding-block-end","padding-block-start","padding-top","padding-right","padding-bottom","padding-left","padding-inline-end","padding-inline-start","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left","scroll-margin-inline-end","scroll-margin-inline-start"],auto:["top","right","bottom","left","grid-column-end","grid-column-start","grid-row-end","grid-row-start","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left","scroll-padding-inline-end","scroll-padding-inline-start"],currentcolor:["border-block-start-color","border-block-end-color","border-top-color","border-right-color","border-bottom-color","border-left-color","border-inline-start-color","border-inline-end-color"],medium:["border-block-start-width","border-block-end-width","border-top-width","border-right-width","border-bottom-width","border-left-width","border-inline-start-width","border-inline-end-width"],none:["border-block-start","border-block-end","border-top","border-right","border-bottom","border-left","border-top-style","border-right-style","border-bottom-style","border-left-style","border-block-start-style","border-block-end-style","border-inline-start","border-inline-end","border-inline-start-style","border-inline-end-style"]},X={},Y={},Z={},ee=function(e){return Array.from(new Set(e))},re=function(e){var r=_[e].overridden;return r?[r].concat(re(r)):[]};Object.keys(_).forEach((function(e){var r=re(e);X[e]=r,_[e].overrides.forEach((function(o){X[o]=[e].concat(r)}))})),Object.keys(J).forEach((function(e){var r=function(e){var r,o=null===(r=_[e])||void 0===r?void 0:r.overridden,n=J[e].overridden,t=o?[o].concat(re(o)):[],d=n?[n].concat(re(n)):[];return ee(i(i([],t,!0),d,!0))}(e);X[e]=X[e]?ee(i(i([],X[e],!0),r,!0)):r,J[e].overrides.forEach((function(o){X[o]=X[o]?ee(i(i([],X[o],!0),[e].concat(r),!0)):ee([e].concat(r))}))})),Object.assign(Y,X),Q.forEach((function(e){Y[e]=[]})),Object.keys(V).forEach((function(e){V[e].forEach((function(r){Z[r]=e}))}));var oe=function(e,r){var o=e.clone(),n=e.prev();if(n&&"comment"===n.type){var t=n.clone();r.append(t),n.remove()}r.append(o)},ne=function(e){var r=!!e.raws&&!!e.raws.value&&e.raws.value.raw;return!(!r||!l.test(r))},te=function(e,r,o){return!!o[r.prop]&&Object.entries(o[r.prop].indexes).some((function(n){return n[1].value===r.value.trim()&&!function(e,r,o){var n=e.index(r),t=Object.keys(o[r.prop].indexes).map(Number);return 1!==t.length&&t.some((function(e){return e>n}))}(e,n[1].decl,o)}))},ie=function(r,t,i,a,s){var l=P.options,c=l.mode,f=l.source,p=l.safeBothPrefix,b=l.processUrls,m=l.processRuleNames,v=l.processEnv,g=l.useCalc,h=l.stringMap,y=l.greedy,R=l.aliases,k=[],x=r.clone().removeAll(),E=x.clone(),w=x.clone(),O=x.clone(),A=Array.prototype.reduce.call(r.nodes,(function(e,o){if("decl"===o.type){var n=o,t=r.index(n);e[n.prop]=e[n.prop]||{ignore:!1,indexes:{}},e[n.prop].indexes[t]={decl:n,value:n.value.trim(),ignore:!1}}return e}),{}),S=[],T={},N=!1;I(r,["decl"],(function(n,t){var a,s;if(D(n.next()),n.remove(),t.directive===d.RAW&&t.option){var l=U(T,i),u=o.parse(t.option,{from:null===(s=null===(a=r.source)||void 0===a?void 0:a.input)||void 0===s?void 0:s.from});c===e.combined&&!l||l&&(c===e.combined&&l===f||c===e.override&&l!==f)?E.append(u.nodes):x.append(u.nodes)}M(t,T)||(T[t.directive]=t)}),(function(t){var a,l;if(!L(T,d.IGNORE)){var m=L(T,d.URLS),j=t,M="".concat(j.toString(),";"),I=n.process(M,{processUrls:b||m||s,processEnv:v,useCalc:g,stringMap:h,greedy:y,aliases:R}),C=o.parse(I,{from:null===(l=null===(a=r.source)||void 0===a?void 0:a.input)||void 0===l?void 0:l.from}).first;C.source=j.source,C.raws=j.raws;var G=j.prop,B=F(G),$=j.value.trim(),W=Object.keys(A[G].indexes).map(Number),K="animation"===B||"animation-name"===B,q=C.prop.trim(),D=C.value.trim(),z=X[B],H=S.includes(B)||!!z&&z.some((function(e){return S.indexOf(e)>=0})),_=function(e,r){return r.some((function(r){return X[r]&&X[r].includes(e)}))}(B,S),J=!!p&&!!Y[B],Q=U(T,i),V=!Q||Q===f||c===e.diff;if((G!==q||$!==D||H||_||J||K)&&!(A[j.prop].ignore&&!J||function(e,r,o,n){var t=e.index(r),i=n[r.prop],d=Object.keys(i.indexes).map(Number).sort();if(1===d.length)return!1;var a=d.filter((function(e){return e>t}));if(a.length){if(u.test(r.prop)){if(n[o.prop]){var s=n[o.prop],l=Object.keys(s.indexes).map(Number).sort().slice(-1)[0],c=a.slice(-1)[0];return i.indexes[c].value===s.indexes[l].value&&(i.ignore=!0,s.ignore=!0),!0}return!1}return!0}return!1}(r,j,C,A)))if(K)if(G!==q||$!==D||0!==P.keyframes.length&&P.keyframesRegExp.test($)){var ee=j.value.replace(P.keyframesRegExp,(function(e,r,o,n){return r+P.keyframesStringMap[o].name+n})),re=j.value.replace(P.keyframesRegExp,(function(e,r,o,n){return r+P.keyframesStringMap[o].nameFlipped+n})),ie=j.clone();if(c===e.combined)(de=j.clone()).value=ee,ie.value=re,V?(x.append(de),E.append(ie)):(x.append(ie),E.append(de)),k.push(j);else j.value=ee,ie.value=re,V?x.append(ie):E.append(ie),p&&c!==e.diff&&(oe(j,O),k.push(j))}else p&&!ne(j)&&(c===e.diff?oe(j,x):oe(j,O),k.push(j));else{if(G===q&&$===D)return void((H||J||_)&&!ne(j)&&(c===e.diff?oe(j,x):oe(j,H||_?w:O),k.push(j)));if(te(r,C,A))return N=!0,void(J&&!ne(j)&&(c===e.diff?oe(j,x):oe(j,O),k.push(j)));if(c===e.combined)V?(oe(j,x),E.append(C)):(oe(j,E),x.append(C)),k.push(j);else{var de;if(u.test(j.prop)&&!A[C.prop]&&r.index(j)===W[0])(de=j.clone()).value=Z[j.prop]||"unset",V?x.append(de):E.append(de);J&&!ne(j)&&c!==e.diff&&(oe(j,O),k.push(j)),V?x.append(C):E.append(C)}S.push(B)}}})),k.length&&k.forEach((function(e){return e.remove()})),x.nodes.length||E.nodes.length||w.nodes.length||O.nodes.length?t?q(r,x,E,w,O):K(r,x,E,w,O):!m&&!a||N?c===e.diff&&P.rulesToRemove.push(r):P.unmodifiedRules.push({rule:r,hasParentRule:t})},de=function(r){P.options.mode===e.diff&&P.rulesToRemove.push(r)},ae=function(n,t,i){void 0===t&&(t=void 0),void 0===i&&(i=!1);var a={},s=P.options,l=s.mode,c=s.source,u=s.ltrPrefix,f=s.rtlPrefix;I(n,["rule"],(function(t,i){var s,p;if(i.directive===d.RAW&&i.option){var b=U(a),m=o.parse(i.option,{from:null===(p=null===(s=n.source)||void 0===s?void 0:s.input)||void 0===p?void 0:p.from});return l!==e.diff&&m.walkRules((function(e){B(e,!b&&c===r.ltr||b&&b===r.ltr?f:u)})),void t.replaceWith(m.nodes)}D(t.next()),t.remove(),M(i,a)||(a[i.directive]=i)}),(function(e){if(L(a,d.IGNORE))de(e);else{var r=e,o=U(a,t);!function(e){return!!e.selectors.find((function(e){return P.rulesPrefixRegExp.test(e)}))}(r)?ie(r,i,o,L(a,d.RULES),L(a,d.URLS)):de(r),ae(r,t,!0)}}))},se=function(e){var r={};I(e,["atrule","rule"],(function(e,o){M(o,r)||(r[o.directive]=o)}),(function(e){if(!L(r,d.IGNORE)&&"atrule"===e.type){var o=e;if("keyframes"!==F(o.name)){var n=U(r);ae(o,n),se(o)}}}))},le=function(r){P.options.mode===e.diff&&P.keyframesToRemove.push(r)};function ce(t){return void 0===t&&(t={}),{postcssPlugin:"postcss-rtlcss",Once:function(i){A(t),function(e){var t=P.options,i=t.source,a=t.processUrls,s=t.useCalc,l=t.stringMap;if(t.processKeyFrames){var c={};I(e,["atrule","rule"],(function(e,r){M(r,c)||(c[r.directive]=r)}),(function(e){var t,u;if(L(c,d.IGNORE))le(e);else if("atrule"===e.type){var f=e;if("keyframes"===F(f.name)){var p=f.toString(),b=n.process(p,{processUrls:a,useCalc:s,stringMap:l});if(p!==b){var m=o.parse(b,{from:null===(u=null===(t=f.source)||void 0===t?void 0:t.input)||void 0===u?void 0:u.from}).first,v=f.params,g="".concat(v,"-").concat(r.ltr),h="".concat(v,"-").concat(r.rtl),y=U(c);f.params=!y&&i===r.ltr||y&&y===r.ltr?g:h,m.params=!y&&i===r.ltr||y&&y===r.ltr?h:g,P.keyframes.push({atRuleParams:v,atRule:f,atRuleFlipped:m})}else le(f)}}})),S()}}(i),se(i),ae(i),function(){if(P.unmodifiedRules.length){var r=P.options.stringMap.reduce((function(e,r){var o="string"==typeof r.search?[r.search]:r.search,n="string"==typeof r.replace?[r.replace]:r.replace;return o.forEach((function(r,o){e[r]=n[o],e[n[o]]=r})),e}),{}),o=Object.keys(r).join("|"),n=P.options.greedy?new RegExp("(".concat(o,")"),"g"):new RegExp("\\b(".concat(o,")\\b"),"g"),t={},i=[];P.unmodifiedRules.forEach((function(r){var o=!1;r.rule.selectors.forEach((function(e){n.test(e)&&(t[e]=r.rule.clone(),o=!0),n.lastIndex=0})),o?i.push(r):P.options.mode===e.diff&&P.rulesToRemove.push(r.rule)})),i.forEach((function(o){for(var i=o.rule,d=o.hasParentRule,a=i.clone(),s=i.clone().removeAll(),l=void 0,c=0,u=i.selectors;c<u.length;c++){var f=u[c].replace(n,(function(e,o){return r[o]}));if(t[f]){l=t[f].clone();break}}l&&(l.selectors=a.selectors,P.options.mode===e.combined?d?q(i.removeAll(),a,l,s,s):K(i.removeAll(),a,l,s,s):d?q(P.options.mode===e.override?i:i.removeAll(),l,s,s,s):K(P.options.mode===e.override?i:i.removeAll(),l,s,s,s)),P.options.mode===e.diff&&P.rulesToRemove.push(i)}))}}(),P.rules.forEach((function(e){var r=e.rule,o=e.ruleLTR,n=e.ruleRTL,t=e.ruleBoth,i=e.ruleSafe;t.nodes.length&&r.after(t),n.nodes.length&&r.after(n),o.nodes.length&&r.after(o),i.nodes.length&&r.after(i),H(r),z(r,o,n,t,i)})),P.keyframes.forEach((function(e){var r=e.atRule,o=e.atRuleFlipped;r.after(o),z(r,o)})),function(r){var o=P.options,n=P.rules,t=P.rulesToRemove,i=P.keyframes,d=P.keyframesToRemove,a=o.mode,s=o.processKeyFrames;a===e.diff&&(n.forEach((function(e){e.rule.remove()})),t.forEach((function(e){e.remove()})),i.forEach((function(e){e.atRule.remove()})),d.forEach((function(e){e.remove()}))),r.walk((function(o){if(a===e.diff&&("comment"===o.type?o.remove():"atrule"!==o.type||s||"keyframes"!==F(o.name)||o.remove()),("rule"===o.type||"atrule"===o.type)&&o.nodes)if($(o)){var n=o.prev();n?"comment"!==n.type&&D(o):D(o,o.parent===r?"":"\n")}else a===e.diff&&o.remove()}))}(i)}}}ce.postcss=!0,module.exports=ce;
